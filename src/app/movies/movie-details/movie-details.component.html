<div class="container-fluid animated slower" [ngClass]="{'fadeIn': contentLoaded}" *ngIf="contentLoaded">
  <div class="row">
    <div class="col-md-2">

    </div>
    <div class="col-md-10">
      <!-- details -->
      <section class="section">
        <!-- details content -->
        <div class="container">
          <div class="row">
            <!-- title -->
            <div class="col-12">
              <h1 class="details__title">{{movie.name}}</h1>
            </div>
            <!-- end title -->
  
            <!-- content -->
            <div class="col-12 col-xl-6">
              <div class="card card--details">
                <div class="row">
                  <!-- card cover -->
                  <div class="col-12 col-sm-4 col-md-4 col-lg-3 col-xl-5">
                    <div class="card__cover text-center">
                      <img src="{{movie.poster}}" alt="">
                      <div class="row">
                        <div class="col-md-12 col-12 my-1">
                          <button class="btn_movie_action" mat-flat-button style="background-color: green;" (click)="reportLinkDown()"><mat-icon>favorite</mat-icon> Agregar A Favoritos</button>
                        </div>
                        <div class="col-md-12 col-12">
                          <button class="btn_movie_action" mat-flat-button style="background-color: darkslateblue;" (click)="reportLinkDown()"><mat-icon>schedule</mat-icon> Ver Mas Tarde</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- end card cover -->
    
                  <!-- card content -->
                  <div class="col-12 col-sm-8 col-md-8 col-lg-9 col-xl-7">
                    <div class="card__content">
                      <ul class="card__meta text-justify">
                        <li><span>Rating:</span><i class="icon ion-ios-star"></i><p>{{movie.grade}}</p>
                        <li><span>Genero(s):</span> <p>{{movie.genres}}</p>
                        <li><span>Anio Estreno:</span> {{movie.year}}</li>
                        <li><span>Duracion:</span> {{movie.length}} min(s)</li>
                      </ul>
    
                      <div class="card__description card__description--details noScrollBar description_size text-justify">
                        {{movie.synopsis}}
                      </div>
                    </div>
                  </div>
                  <!-- end card content -->
                </div>
              </div>
            </div>
            <!-- end content -->
  
          <!-- player -->
          <div class="col-12 col-xl-6 movie-player" *ngIf="movieLinks.size > 0; else NoLinks">
            <div class="row">
              <div class="col-md-6">
                <mat-form-field color="accent">
                  <mat-label>Selecciona una opcion</mat-label>
                  <mat-select [(value)]="movieOptionSelected" panelClass="mat-select-panel">
                    <mat-option style="color: whitesmoke;" value="{{link}}" *ngFor="let link of movieLinksKeys">{{link.split('/')[2]}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-md-6">
                <button class="w-100" mat-flat-button style="background-color: tomato;" (click)="reportLinkDown()">Link Caido?</button>
              </div>
            </div>
            <iframe [src]="movieLinks.get(movieOptionSelected)" width="100%" height="90%" frameborder="0" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" scrolling="no"></iframe>
          </div>
          <!-- end player -->
          <ng-template #NoLinks>
            <div class="col-12 col-xl-6 movie-player text-center">
              <img class="img-fluid" src="assets/img/Movie-Studio-icon.png" />
              <p class="display-3 mx-4" style="font-size: 1.5rem;">No se encontraron provedores de la pelicula.</p>
            </div>
          </ng-template>
        </div>
      </div>
      <!-- end details content -->
    </section>
    <!-- end details -->
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <!-- content -->
	<section class="content">
      <div class="content__head">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <!-- content tabs nav -->
              <ul class="nav nav-tabs content__tabs" id="content__tabs" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active" data-toggle="tab" href="#tab-1" role="tab" aria-controls="tab-1" aria-selected="true">Comentarios</a>
                </li>
  
                <li class="nav-item">
                  <a class="nav-link" data-toggle="tab" href="#tab-2" role="tab" aria-controls="tab-2" aria-selected="false">Reviews</a>
                </li>
  
              </ul>
              <!-- end content tabs nav -->
  
              <!-- content mobile tabs nav -->
              <div class="content__mobile-tabs" id="content__mobile-tabs">
                <div class="content__mobile-tabs-btn dropdown-toggle" role="navigation" id="mobile-tabs" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <input type="button" value="Comments">
                  <span></span>
                </div>
  
                <div class="content__mobile-tabs-menu dropdown-menu" aria-labelledby="mobile-tabs">
                  <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item"><a class="nav-link active" id="1-tab" data-toggle="tab" href="#tab-1" role="tab" aria-controls="tab-1" aria-selected="true">Comentarios</a></li>
  
                    <li class="nav-item"><a class="nav-link" id="2-tab" data-toggle="tab" href="#tab-2" role="tab" aria-controls="tab-2" aria-selected="false">Reviews</a></li>
  
                  </ul>
                </div>
              </div>
              <!-- end content mobile tabs nav -->
            </div>
          </div>
        </div>
      </div>
  
      <div class="container">
        <div class="row">
          <div class="col-12 col-lg-8 col-xl-8">
            <!-- content tabs -->
            <div class="tab-content" id="myTabContent">
              <div class="tab-pane fade show active" id="tab-1" role="tabpanel" aria-labelledby="1-tab">
                <div class="row">
                  <!-- comments -->
                  <div class="col-12">
                    <div class="comments">
                      <ul class="comments__list">
                        <li class="comments__item">
                          <div class="comments__autor">
                            <img class="comments__avatar" src="img/user.png" alt="">
                            <span class="comments__name">John Doe</span>
                            <span class="comments__time">30.08.2018, 17:53</span>
                          </div>
                          <p class="comments__text">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text.</p>
                          <div class="comments__actions">
                            <div class="comments__rate">
                              <button type="button"><i class="icon ion-md-thumbs-up"></i>12</button>
  
                              <button type="button">7<i class="icon ion-md-thumbs-down"></i></button>
                            </div>
  
                            <button type="button"><i class="icon ion-ios-share-alt"></i>Reply</button>
                            <button type="button"><i class="icon ion-ios-quote"></i>Quote</button>
                          </div>
                        </li>
  
                        <li class="comments__item comments__item--answer">
                          <div class="comments__autor">
                            <img class="comments__avatar" src="img/user.png" alt="">
                            <span class="comments__name">John Doe</span>
                            <span class="comments__time">24.08.2018, 16:41</span>
                          </div>
                          <p class="comments__text">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</p>
                          <div class="comments__actions">
                            <div class="comments__rate">
                              <button type="button"><i class="icon ion-md-thumbs-up"></i>8</button>
  
                              <button type="button">3<i class="icon ion-md-thumbs-down"></i></button>
                            </div>
  
                            <button type="button"><i class="icon ion-ios-share-alt"></i>Reply</button>
                            <button type="button"><i class="icon ion-ios-quote"></i>Quote</button>
                          </div>
                        </li>
  
                        <li class="comments__item comments__item--quote">
                          <div class="comments__autor">
                            <img class="comments__avatar" src="img/user.png" alt="">
                            <span class="comments__name">John Doe</span>
                            <span class="comments__time">11.08.2018, 11:11</span>
                          </div>
                          <p class="comments__text"><span>There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</span>It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                          <div class="comments__actions">
                            <div class="comments__rate">
                              <button type="button"><i class="icon ion-md-thumbs-up"></i>11</button>
  
                              <button type="button">1<i class="icon ion-md-thumbs-down"></i></button>
                            </div>
  
                            <button type="button"><i class="icon ion-ios-share-alt"></i>Reply</button>
                            <button type="button"><i class="icon ion-ios-quote"></i>Quote</button>
                          </div>
                        </li>
  
                        <li class="comments__item">
                          <div class="comments__autor">
                            <img class="comments__avatar" src="img/user.png" alt="">
                            <span class="comments__name">John Doe</span>
                            <span class="comments__time">07.08.2018, 14:33</span>
                          </div>
                          <p class="comments__text">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text.</p>
                          <div class="comments__actions">
                            <div class="comments__rate">
                              <button type="button"><i class="icon ion-md-thumbs-up"></i>99</button>
  
                              <button type="button">35<i class="icon ion-md-thumbs-down"></i></button>
                            </div>
  
                            <button type="button"><i class="icon ion-ios-share-alt"></i>Reply</button>
                            <button type="button"><i class="icon ion-ios-quote"></i>Quote</button>
                          </div>
                        </li>
  
                        <li class="comments__item">
                          <div class="comments__autor">
                            <img class="comments__avatar" src="img/user.png" alt="">
                            <span class="comments__name">John Doe</span>
                            <span class="comments__time">02.08.2018, 15:24</span>
                          </div>
                          <p class="comments__text">Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).</p>
                          <div class="comments__actions">
                            <div class="comments__rate">
                              <button type="button"><i class="icon ion-md-thumbs-up"></i>74</button>
  
                              <button type="button">13<i class="icon ion-md-thumbs-down"></i></button>
                            </div>
                            
                            <button type="button"><i class="icon ion-ios-share-alt"></i>Reply</button>
                            <button type="button"><i class="icon ion-ios-quote"></i>Quote</button>
                          </div>
                        </li>
                      </ul>
  
                      <form action="#" class="form">
                        <textarea id="text" name="text" class="form__textarea" placeholder="Add comment"></textarea>
                        <button type="button" class="form__btn">Send</button>
                      </form>
                    </div>
                  </div>
                  <!-- end comments -->
                </div>
              </div>
  
              <div class="tab-pane fade" id="tab-2" role="tabpanel" aria-labelledby="2-tab">
                <div class="row">
                  <!-- reviews -->
                  <div class="col-12">
                    <div class="reviews">
                      <ul class="reviews__list">
                        <li class="reviews__item">
                          <div class="reviews__autor">
                            <img class="reviews__avatar" src="img/user.png" alt="">
                            <span class="reviews__name">Best Marvel movie in my opinion</span>
                            <span class="reviews__time">24.08.2018, 17:53 by John Doe</span>
  
                            <span class="reviews__rating"><i class="icon ion-ios-star"></i>8.4</span>
                          </div>
                          <p class="reviews__text">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text.</p>
                        </li>
  
                        <li class="reviews__item">
                          <div class="reviews__autor">
                            <img class="reviews__avatar" src="img/user.png" alt="">
                            <span class="reviews__name">Best Marvel movie in my opinion</span>
                            <span class="reviews__time">24.08.2018, 17:53 by John Doe</span>
  
                            <span class="reviews__rating"><i class="icon ion-ios-star"></i>9.0</span>
                          </div>
                          <p class="reviews__text">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text.</p>
                        </li>
  
                        <li class="reviews__item">
                          <div class="reviews__autor">
                            <img class="reviews__avatar" src="img/user.png" alt="">
                            <span class="reviews__name">Best Marvel movie in my opinion</span>
                            <span class="reviews__time">24.08.2018, 17:53 by John Doe</span>
  
                            <span class="reviews__rating"><i class="icon ion-ios-star"></i>7.5</span>
                          </div>
                          <p class="reviews__text">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text.</p>
                        </li>
                      </ul>
  
                      <form class="form">
                        <input type="text" class="form__input" [(ngModel)]="review.reviewTitle" placeholder="Title" [ngModelOptions]="{standalone: true}">
                        <textarea class="form__textarea" [(ngModel)]="review.review" placeholder="Review" [ngModelOptions]="{standalone: true}"></textarea>
                        <mat-label >Rating</mat-label>
                          <mat-slider class="w-50"
                            [max]="5"
                            [min]="0"
                            [step]="0.1"
                            [thumbLabel]="true"
                            [(ngModel)]="review.grade" 
                            [ngModelOptions]="{standalone: true}">
                        </mat-slider>
                        <button mat-flat-button color="primary" cdkFocusInitial class="mx-2" (click)="publishReview()">Publicar</button>
                      </form>
                    </div>
                  </div>
                  <!-- end reviews -->
                </div>
              </div>
            </div>
            <!-- end content tabs -->
          </div>
  
          <!-- sidebar -->
          <div class="col-12 col-lg-4 col-xl-4">
            <div class="row">
              <!-- section title -->
              <div class="col-12">
                <h2 class="section__title section__title--sidebar">Tambien te podrian gustar...</h2>
              </div>
              <!-- end section title -->
  
              <!-- card -->
              <div class="col-6 col-sm-4 col-lg-6" *ngFor="let similar of similarMovies">
                <div class="card">
                  <div class="card__cover">
                    <img src="{{similar.poster}}" alt="">
                    <a routerLink="/movie/{{similar.idMovie}}" class="card__play">
                      <i class="icon ion-ios-play"></i>
                    </a>
                  </div>
                  <div class="card__content">
                    <h3 class="card__title"><a routerLink="/movie/{{similar.idMovie}}" >{{similar.name}}</a></h3>
                    <span class="card__category">
                      <a *ngFor="let genre of similar.genres.split(',').slice(0, similar.genres.split(',').length - 1)">{{genre}}</a>
                    </span>
                    <span class="card__rate"><i class="icon ion-ios-star"></i>{{similar.grade}}</span>
                  </div>
                </div>
              </div>
              <!-- end card -->
            </div>
          </div>
          <!-- end sidebar -->
        </div>
      </div>
    </section>
    <!-- end content -->
    </div>
  </div>
</div>